# ADR-001: ドメイン中心のアーキテクチャ(クリーンアーキテクチャ)の採用

- **Status:** Accepted
- **Date:** 2025-12-18

## Context（背景・課題）

- 今回のシステムは「在庫の奪い合い」という複雑なビジネスルール(コアドメイン)を持つ
- 将来的に(RDB/NoSQL)やフレームワークが変更される可能性があるが、その都度ビジネスロジックを書き直すコストは避けたい
- ビジネスルールのテスト容易性を最優先にする必要がある

# Decision

- クリーンアーキテクチャを採用する
- 具体的には「ドメイン層(Core)」をシステムの中核に置き、UI やデータベースなどの詳細がドメイン層に依存する形(DIP)を取る

# Consequence

- Positive: ビジネスロジックがインフラから隔離されるため、単体テストが容易になる。技術スタックの変更につよい
- Negative: レイヤー間の変換(Mapping)が必要となり、クラス数やボイラーテンプレートの増加
