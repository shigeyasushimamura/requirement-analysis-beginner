# ADR-002: 戦略的 DDD に基づく内製と外製の分離

- **Status:** Accepted
- **Date:** 2025-12-18

# Context

- 開発リソース(エンジニアの時間と人数)は有限である
- 「在庫引き当て」「決済」「認証」「商品管理」などすべての機能を高い品質でゼロから開発しようとすると、リリース納期に間に合わないリスクがある
- とくに「決済」と「認証」はセキュリティリスクが高く、独自実装のコスパが悪い

# Decision

- ドメインを以下の通りに分割して、リソース配分を決定する

1. Core Domain(在庫引き当て): 競争優位性の源泉であるため、優秀人材などのリソースを投下して、完全内製する
2. Generic Subdomain(決済・認証): 一般的な機能であり、差別化要因でないため、Saas(Stripe, Auth0)などや、ライブラリを利用する

# Consequence

- Positive: コア機能の品質向上にリソースを割くことが出来る。セキュリティ事故のリスクを専門業者(Saas 側)に転嫁できる
- Negative: Saas の仕様変更や価格改定の影響を受ける(ベンダーロックイン)
